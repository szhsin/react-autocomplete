"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[81],{3264:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>w,contentTitle:()=>S,default:()=>k,frontMatter:()=>I,metadata:()=>a,toc:()=>P});const a=JSON.parse('{"id":"docs/extras/action-items","title":"Action items","description":"You can specify items in the list as actions and define what happens after they are triggered. This is useful for extending functionality, such as building a \'creatable\' autocomplete feature.","source":"@site/docs/docs/extras/action-items.mdx","sourceDirName":"docs/extras","slug":"/docs/extras/action-items","permalink":"/react-autocomplete/docs/extras/action-items","draft":false,"unlisted":false,"editUrl":"https://github.com/szhsin/react-autocomplete/tree/master/website/docs/docs/extras/action-items.mdx","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"docsSidebar","previous":{"title":"Disabled items","permalink":"/react-autocomplete/docs/extras/disabled-items"},"next":{"title":"Select-Only","permalink":"/react-autocomplete/docs/extras/select-only"}}');var s=n(2540),i=n(8453),l=n(267),r=n(8860),o=n(3457);const c="import { useState } from 'react';\nimport { useCombobox, autocomplete } from '@szhsin/react-autocomplete';\nimport FRUITS from '../../data/fruits';\n\n// highlight-next-line\ntype Item = { value: string; creatable?: boolean };\n\nconst ActionItems = () => {\n  const [value, setValue] = useState<string>();\n  const [selected, setSelected] = useState<Item>();\n\n  const [fruits, setFruit] = useState(FRUITS);\n  const items: Item[] = fruits\n    .filter((fruit) => fruit.toLowerCase().includes((value || '').toLowerCase()))\n    .map((fruit) => ({ value: fruit }));\n  // highlight-start\n  // If the value does not exist in the list of items, add a creatable action to the end.\n  if (value && !items.find((item) => !item.creatable && item.value === value)) {\n    items.push({ value, creatable: true });\n  }\n  // highlight-end\n\n  const {\n    getFocusCaptureProps,\n    getLabelProps,\n    getInputProps,\n    getClearProps,\n    getToggleProps,\n    getListProps,\n    getItemProps,\n    isItemSelected,\n    open,\n    focusIndex,\n    isInputEmpty\n  } = useCombobox({\n    items,\n    getItemValue: (item) => item.value,\n    isEqual: (a, b) => a?.value === b?.value,\n    // highlight-start\n    // Specify how to determine if an item is an action,\n    isItemAction: (item) => !!item.creatable,\n    // and what happens after the action is triggered.\n    onAction: (item) => {\n      if (item.creatable) {\n        setSelected({ value: item.value });\n        setFruit([item.value, ...fruits]);\n      }\n    },\n    // highlight-end\n    value,\n    onChange: setValue,\n    selected,\n    onSelectChange: setSelected,\n    feature: autocomplete({ select: true })\n  });\n\n  return (\n    <div>\n      <label {...getLabelProps()} {...getFocusCaptureProps()}>\n        Fruit\n      </label>\n\n      <div>\n        <input placeholder=\"Select or create...\" {...getInputProps()} />\n        {!isInputEmpty && <button {...getClearProps()}>X</button>}\n        <button {...getToggleProps()}>{open ? '\u2191' : '\u2193'}</button>\n      </div>\n\n      <ul\n        {...getListProps()}\n        style={{\n          display: open ? 'block' : 'none',\n          position: 'absolute',\n          listStyle: 'none',\n          color: '#000',\n          background: '#fff',\n          overflow: 'auto',\n          maxHeight: 300,\n          margin: 0,\n          padding: 0\n        }}\n      >\n        {items.length ? (\n          items.map((item, index) => (\n            <li\n              {...getItemProps({ item, index })}\n              key={item.value}\n              style={{\n                background: focusIndex === index ? '#ddd' : 'none',\n                textDecoration: isItemSelected(item) ? 'underline' : 'none'\n              }}\n            >\n              {/* highlight-next-line */}\n              {item.creatable ? `Create \"${item.value}\"` : item.value}\n            </li>\n          ))\n        ) : (\n          <li>No options</li>\n        )}\n      </ul>\n    </div>\n  );\n};\n\nexport default ActionItems;\n";var u=n(1516),d=n(3696),p=n(4164),m=n(6507),h=n(1510),g=n(2534),b=n(1608),f=n(4603),x=n(1922),v=n(8155),A=n(7869),j=n(9094);const y=()=>{const[e,t]=(0,d.useState)(),[n,a]=(0,d.useState)(),[i,l]=(0,d.useState)(v.A),r=i.filter((t=>t.toLowerCase().includes((e||"").toLowerCase()))).map((e=>({value:e})));e&&!r.find((t=>!t.creatable&&t.value===e))&&r.push({value:e,creatable:!0});const{getFocusCaptureProps:o,getLabelProps:c,getInputProps:u,getClearProps:y,getToggleProps:I,getListProps:S,getItemProps:w,isItemSelected:P,open:C,focusIndex:k,isInputEmpty:N}=(0,m.B)({items:r,getItemValue:e=>e.value,isEqual:(e,t)=>e?.value===t?.value,isItemAction:e=>!!e.creatable,onAction:e=>{e.creatable&&(a({value:e.value}),l([e.value,...i]))},value:e,onChange:t,selected:n,onSelectChange:a,feature:(0,h.n)({select:!0})}),L=(0,j.i)(C,r);return(0,s.jsxs)("div",{className:A.A.wrap,children:[(0,s.jsx)("label",{className:A.A.label,...c(),...o(),children:"Fruit"}),(0,s.jsxs)("div",{className:A.A.inputWrap,children:[(0,s.jsx)("input",{className:A.A.input,placeholder:"Select or create...",...u()}),!N&&(0,s.jsx)("button",{className:A.A.clear,...y(),children:(0,s.jsx)(g.A,{})}),(0,s.jsx)("button",{className:A.A.toggle,...I(),children:C?(0,s.jsx)(f.A,{}):(0,s.jsx)(b.A,{})})]}),(0,s.jsx)("ul",{ref:L,className:(0,p.$)(A.A.list,A.A.scroll),...S(),style:{display:C?"block":"none"},children:r.length?r.map(((e,t)=>{const n=P(e);return(0,s.jsxs)("li",{className:(0,p.$)(A.A.itemCheckable,k===t&&A.A.focused,n&&A.A.checked,e.creatable&&A.A.creatable),...w({item:e,index:t}),children:[e.creatable?`Create "${e.value}"`:e.value,n&&(0,s.jsx)(x.A,{})]},e.value)})):(0,s.jsx)("li",{className:A.A.noResult,children:"No options"})})]})},I={sidebar_position:4},S="Action items",w={},P=[];function C(e){const t={h1:"h1",header:"header",p:"p",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"action-items",children:"Action items"})}),"\n",(0,s.jsxs)(t.p,{children:["You can specify items in the list as actions and define what happens after they are triggered. This is useful for extending functionality, such as building a ",(0,s.jsx)(t.strong,{children:"'creatable'"})," autocomplete feature."]}),"\n",(0,s.jsx)(y,{}),"\n",(0,s.jsxs)(l.A,{children:[(0,s.jsx)(r.A,{value:"ts",label:"ActionItems.tsx",children:(0,s.jsx)(o.A,{language:"tsx",children:c})}),(0,s.jsx)(r.A,{value:"data",label:"data/fruits.ts",children:(0,s.jsx)(o.A,{language:"ts",children:u.A})})]})]})}function k(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(C,{...e})}):C(e)}},1922:(e,t,n)=>{n.d(t,{A:()=>r});var a,s,i=n(3696);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(null,arguments)}const r=({title:e,titleId:t,...n})=>i.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"icon icon-tabler icons-tabler-outline icon-tabler-check",viewBox:"0 0 24 24","aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,a||(a=i.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"})),s||(s=i.createElement("path",{d:"m5 12 5 5L20 7"})))},8155:(e,t,n)=>{n.d(t,{A:()=>a});const a=["Apple","Banana","Blueberry","Cherry","Grape","Pineapple","Strawberry"]},1516:(e,t,n)=>{n.d(t,{A:()=>a});const a="export default ['Apple', 'Banana', 'Blueberry', 'Cherry', 'Grape', 'Pineapple', 'Strawberry'];\n"}}]);