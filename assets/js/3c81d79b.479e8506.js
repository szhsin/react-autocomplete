"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2],{1540:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>m,contentTitle:()=>h,default:()=>b,frontMatter:()=>p,metadata:()=>a,toc:()=>g});const a=JSON.parse('{"id":"docs/features/supercomplete","title":"Supercomplete","description":"The supercomplete feature supports everything provided by autocomplete, along with inline text completion.","source":"@site/docs/docs/features/supercomplete.mdx","sourceDirName":"docs/features","slug":"/docs/features/supercomplete","permalink":"/react-autocomplete/docs/features/supercomplete","draft":false,"unlisted":false,"editUrl":"https://github.com/szhsin/react-autocomplete/tree/master/website/docs/docs/features/supercomplete.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"docsSidebar","previous":{"title":"Autocomplete","permalink":"/react-autocomplete/docs/features/autocomplete"},"next":{"title":"Dropdown","permalink":"/react-autocomplete/docs/features/dropdown"}}');var s=n(2540),o=n(8453),l=n(267),i=n(8860),r=n(1028);const c="import { useState } from 'react';\nimport { useCombobox, supercomplete } from '@szhsin/react-autocomplete';\nimport STATES from '../../data/states';\n\nconst filterItems = (value?: string) =>\n  value ? STATES.filter((item) => item.toLowerCase().startsWith(value.toLowerCase())) : STATES;\n\nconst Supercomplete = () => {\n  const [value, setValue] = useState<string>();\n  const [selected, setSelected] = useState<string>();\n  const items = filterItems(value);\n\n  const {\n    getLabelProps,\n    getInputProps,\n    getClearProps,\n    getToggleProps,\n    getListProps,\n    getItemProps,\n    open,\n    focusIndex,\n    isInputEmpty\n  } = useCombobox({\n    items,\n    value,\n    onChange: setValue,\n    selected,\n    onSelectChange: setSelected,\n    feature: supercomplete({\n      // highlight-start\n      // The `onRequestItem` event will be triggered with the updated input value.\n      // You should compute the item for inline text completion using the same filtering logic,\n      // and invoke the `res` function to complete.\n      // If no item matches for inline completion, do not call the `res` function.\n      onRequestItem: ({ value: newValue }, res) => {\n        const items = filterItems(newValue);\n        if (items.length > 0) res({ index: 0, item: items[0] });\n      },\n      // highlight-end\n\n      // The `select` option controls autocomplete in free or select mode\n      select: false // or true\n      // Other options: deselectOnClear, deselectOnChange, closeOnSelect\n    })\n  });\n\n  return (\n    <div>\n      <label {...getLabelProps()}>State</label>\n      <div>\n        <input placeholder=\"Select or type...\" {...getInputProps()} />\n        {!isInputEmpty && <button {...getClearProps()}>X</button>}\n        <button {...getToggleProps()}>{open ? '\u2191' : '\u2193'}</button>\n      </div>\n\n      <ul\n        {...getListProps()}\n        style={{\n          display: open ? 'block' : 'none',\n          position: 'absolute',\n          listStyle: 'none',\n          color: '#000',\n          background: '#fff',\n          overflow: 'auto',\n          maxHeight: 300,\n          margin: 0,\n          padding: 0\n        }}\n      >\n        {items.length ? (\n          items.map((item, index) => (\n            <li\n              style={{\n                background: focusIndex === index ? '#ddd' : 'none',\n                textDecoration: selected === item ? 'underline' : 'none'\n              }}\n              key={item}\n              {...getItemProps({ item, index })}\n            >\n              {item}\n            </li>\n          ))\n        ) : (\n          <li>No results</li>\n        )}\n      </ul>\n    </div>\n  );\n};\n\nexport default Supercomplete;\n";var d=n(8785),u=n(2750);const p={sidebar_position:2},h="Supercomplete",m={},g=[];function x(e){const t={a:"a",code:"code",h1:"h1",header:"header",p:"p",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"supercomplete",children:"Supercomplete"})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"supercomplete"})," feature supports everything provided by ",(0,s.jsx)(t.code,{children:"autocomplete"}),", along with ",(0,s.jsx)(t.a,{href:"https://www.w3.org/WAI/ARIA/apg/patterns/combobox/examples/combobox-autocomplete-both/",children:"inline text completion"}),"."]}),"\n",(0,s.jsx)(u.j,{isSupercomplete:!0}),"\n",(0,s.jsxs)(l.A,{children:[(0,s.jsx)(i.A,{value:"ts",label:"Supercomplete.tsx",children:(0,s.jsx)(r.A,{language:"tsx",children:c})}),(0,s.jsx)(i.A,{value:"data",label:"data/states.ts",children:(0,s.jsx)(r.A,{language:"ts",children:d.A})}),(0,s.jsx)(i.A,{value:"codesandbox",label:"CodeSandbox",attributes:{link:"https://codesandbox.io/p/sandbox/supercomplete-25p6cf"},children:(0,s.jsx)(t.p,{children:"CodeSandbox"})})]})]})}function b(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(x,{...e})}):x(e)}},2750:(e,t,n)=>{n.d(t,{j:()=>k});var a=n(3696),s=n(4164),o=n(6507),l=n(3862),i=n(1510);const r=e=>(0,l.o)((0,i.n)({...e,rovingText:!0}),(({onRequestItem:e})=>({getItemValue:t,setTmpValue:n,setFocusIndex:a})=>({getInputProps:()=>({"aria-autocomplete":"both",onChange:({target:s,nativeEvent:o})=>{if("insertText"!==o.inputType)return;const l=s.value;e({value:l},(e=>{a(e.index);const o=t(e.item),i=l.length,r=o.length;n(l+o.slice(i)),setTimeout((()=>s.setSelectionRange(i,r)),0)}))}})}))(e));var c=n(2534),d=n(1608),u=n(4603),p=n(2194),h=n(7869);const m="desc_D_R9",g="modes_IPKR",x="inputWrap_O8rz",b="info_gD2Z";var v=n(5222),f=n(1926),w=n(9094),j=n(2540);const S=e=>e?p.A.filter((t=>t.toLowerCase().startsWith(e.toLowerCase()))):p.A,k=({isSupercomplete:e})=>{const[t,n]=(0,a.useState)(e?"free":"select"),[l,p]=(0,a.useState)(!0),[k,C]=(0,a.useState)(!0),[T,N]=(0,a.useState)(!0),[y,A]=(0,a.useState)(!0),I="select"===t,[O,P]=(0,a.useState)(),[M,_]=(0,a.useState)(),E=S(O),L={select:I,deselectOnClear:k,deselectOnChange:T,closeOnSelect:y},{getFocusCaptureProps:V,getLabelProps:R,getInputProps:W,getClearProps:D,getToggleProps:q,getListProps:H,getItemProps:z,open:F,focusIndex:B,isInputEmpty:K,inputRef:Y}=(0,o.B)({items:E,value:O,onChange:P,selected:M,onSelectChange:_,feature:e?r({...L,onRequestItem:({value:e},t)=>{const n=S(e);n.length>0&&t({index:0,item:n[0]})}}):(0,i.n)({...L,rovingText:l})}),J=(0,w.i)(F,E),U=e=>{Y.current?.focus(),n(e),P(void 0),_(void 0),p("free"===e),C(!0),A(!0),N(!0)};return(0,j.jsxs)("div",{className:h.A.wrap,children:[(0,j.jsxs)("div",{className:g,children:[(0,j.jsx)(f.a,{name:"mode",value:"free",label:"Free mode",groupValue:t,onChange:U}),(0,j.jsxs)("div",{className:m,children:[(0,j.jsx)("i",{children:"(the default setting)"})," The text entered in the input field is not restricted to the items in the dropdown list."]}),(0,j.jsx)(f.a,{name:"mode",value:"select",label:"Select mode",groupValue:t,onChange:U}),(0,j.jsx)("div",{className:m,children:"The allowed text in the input field is restricted to the items in the dropdown list."})]}),(0,j.jsxs)("div",{className:h.A.options,children:[!e&&(0,j.jsx)(v.S,{label:"rovingText",checked:l,onChange:p}),(0,j.jsx)(v.S,{label:"deselectOnClear",checked:k,onChange:C}),!I&&(0,j.jsx)(v.S,{label:"deselectOnChange",checked:T,onChange:N}),(0,j.jsx)(v.S,{label:"closeOnSelect",checked:y,onChange:A})]}),(0,j.jsx)("label",{className:h.A.label,...R(),...V(),children:"State"}),(0,j.jsxs)("div",{className:x,children:[(0,j.jsxs)("div",{className:h.A.inputWrap,children:[(0,j.jsx)("input",{className:h.A.input,placeholder:"Select or type...",...W()}),!K&&(0,j.jsx)("button",{className:h.A.clear,...D(),children:(0,j.jsx)(c.A,{})}),(0,j.jsx)("button",{className:h.A.toggle,...q(),children:F?(0,j.jsx)(u.A,{}):(0,j.jsx)(d.A,{})})]}),M&&(0,j.jsxs)("div",{className:b,children:["You have selected: ",(0,j.jsx)("b",{children:M})]})]}),(0,j.jsx)("ul",{ref:J,className:(0,s.$)(h.A.list,h.A.scroll),...H(),style:{display:F?"block":"none"},children:E.length?E.map(((e,t)=>(0,j.jsx)("li",{className:(0,s.$)(h.A.item,B===t&&h.A.focused,M===e&&h.A.selected),...z({item:e,index:t}),children:e},e))):(0,j.jsx)("li",{className:h.A.noResult,children:"No results"})})]})}},5222:(e,t,n)=>{n.d(t,{S:()=>v});var a,s,o=n(4164),l=n(3696);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(null,arguments)}const r=({title:e,titleId:t,...n})=>l.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"icon icon-tabler icons-tabler-outline icon-tabler-square",viewBox:"0 0 24 24","aria-labelledby":t},n),e?l.createElement("title",{id:t},e):null,a||(a=l.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"})),s||(s=l.createElement("path",{d:"M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"})));var c,d;function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u.apply(null,arguments)}const p=({title:e,titleId:t,...n})=>l.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",className:"icon icon-tabler icons-tabler-filled icon-tabler-square-check",viewBox:"0 0 24 24","aria-labelledby":t},n),e?l.createElement("title",{id:t},e):null,c||(c=l.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),d||(d=l.createElement("path",{d:"M18.333 2c1.96 0 3.56 1.537 3.662 3.472l.005.195v12.666c0 1.96-1.537 3.56-3.472 3.662l-.195.005H5.667a3.667 3.667 0 0 1-3.662-3.472L2 18.333V5.667c0-1.96 1.537-3.56 3.472-3.662L5.667 2zm-2.626 7.293a1 1 0 0 0-1.414 0L11 12.585l-1.293-1.292-.094-.083a1 1 0 0 0-1.32 1.497l2 2 .094.083a1 1 0 0 0 1.32-.083l4-4 .083-.094a1 1 0 0 0-.083-1.32"}))),h="label_lSHF",m="input_rDJm",g="icon_wu1w",x="checked_X1o2";var b=n(2540);const v=({label:e,checked:t,onChange:n})=>(0,b.jsxs)("label",{className:(0,o.$)(h,t&&x),children:[(0,b.jsx)("input",{className:m,type:"checkbox",checked:t,onChange:e=>n(e.target.checked)}),t?(0,b.jsx)(p,{className:g}):(0,b.jsx)(r,{className:g}),e]})},1926:(e,t,n)=>{n.d(t,{a:()=>x});var a,s=n(4164),o=n(3696);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(null,arguments)}const i=({title:e,titleId:t,...n})=>o.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"currentColor",viewBox:"0 -960 960 960","aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,a||(a=o.createElement("path",{d:"M480-280q83 0 141.5-58.5T680-480t-58.5-141.5T480-680t-141.5 58.5T280-480t58.5 141.5T480-280m0 200q-83 0-156-31.5T197-197t-85.5-127T80-480t31.5-156T197-763t127-85.5T480-880t156 31.5T763-763t85.5 127T880-480t-31.5 156T763-197t-127 85.5T480-80m0-80q134 0 227-93t93-227-93-227-227-93-227 93-93 227 93 227 227 93m0-320"})));var r;function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c.apply(null,arguments)}const d=({title:e,titleId:t,...n})=>o.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"currentColor",viewBox:"0 -960 960 960","aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,r||(r=o.createElement("path",{d:"M480-80q-83 0-156-31.5T197-197t-85.5-127T80-480t31.5-156T197-763t127-85.5T480-880t156 31.5T763-763t85.5 127T880-480t-31.5 156T763-197t-127 85.5T480-80m0-80q134 0 227-93t93-227-93-227-227-93-227 93-93 227 93 227 227 93m0-320"}))),u="label_EbSy",p="input_dY0D",h="radio_S55Q",m="checked_h9_f";var g=n(2540);const x=({label:e,name:t,value:n,groupValue:a,onChange:o})=>{const l=a===n;return(0,g.jsxs)("label",{className:(0,s.$)(u,l&&m),children:[(0,g.jsx)("input",{className:p,type:"radio",name:t,value:n,checked:l,onChange:({target:e})=>e.checked&&o(e.value)}),l?(0,g.jsx)(i,{className:h}):(0,g.jsx)(d,{className:h}),e]})}},2194:(e,t,n)=>{n.d(t,{A:()=>a});const a=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"]},8785:(e,t,n)=>{n.d(t,{A:()=>a});const a="// https://en.wikipedia.org/wiki/List_of_states_and_territories_of_the_United_States#States\n\nexport default [\n  'Alabama',\n  'Alaska',\n  'Arizona',\n  'Arkansas',\n  'California',\n  'Colorado',\n  'Connecticut',\n  'Delaware',\n  'Florida',\n  'Georgia',\n  'Hawaii',\n  'Idaho',\n  'Illinois',\n  'Indiana',\n  'Iowa',\n  'Kansas',\n  'Kentucky',\n  'Louisiana',\n  'Maine',\n  'Maryland',\n  'Massachusetts',\n  'Michigan',\n  'Minnesota',\n  'Mississippi',\n  'Missouri',\n  'Montana',\n  'Nebraska',\n  'Nevada',\n  'New Hampshire',\n  'New Jersey',\n  'New Mexico',\n  'New York',\n  'North Carolina',\n  'North Dakota',\n  'Ohio',\n  'Oklahoma',\n  'Oregon',\n  'Pennsylvania',\n  'Rhode Island',\n  'South Carolina',\n  'South Dakota',\n  'Tennessee',\n  'Texas',\n  'Utah',\n  'Vermont',\n  'Virginia',\n  'Washington',\n  'West Virginia',\n  'Wisconsin',\n  'Wyoming'\n];\n"}}]);