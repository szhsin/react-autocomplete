"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[370],{3237:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>C,contentTitle:()=>I,default:()=>D,frontMatter:()=>y,metadata:()=>a,toc:()=>N});const a=JSON.parse('{"id":"docs/features/multiSelectDropdown","title":"Multiple Selection in Dropdown","description":"<TabItem","source":"@site/docs/docs/features/multiSelectDropdown.mdx","sourceDirName":"docs/features","slug":"/docs/features/multiSelectDropdown","permalink":"/react-autocomplete/docs/features/multiSelectDropdown","draft":false,"unlisted":false,"editUrl":"https://github.com/szhsin/react-autocomplete/tree/master/website/docs/docs/features/multiSelectDropdown.mdx","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"sidebar_label":"Multi-select Dropdown"},"sidebar":"docsSidebar","previous":{"title":"Multiple Selection","permalink":"/react-autocomplete/docs/features/multiSelect"},"next":{"title":"Grouped items","permalink":"/react-autocomplete/docs/extras/grouped"}}');var s=t(2540),o=t(8453),l=t(7039),i=t(3829),r=t(8069);const c="import { useState } from 'react';\nimport { useMultiSelect, multiSelectDropdown } from '@szhsin/react-autocomplete';\nimport STATES from '../../data/states';\n\nconst MultiSelectDropdown = () => {\n  const [value, setValue] = useState<string>();\n  // You can set a few items to be selected initially\n  const [selected, setSelected] = useState<string[]>(['Alaska', 'Florida']);\n  // It's up to you how to filter items based on the input value\n  const items = value\n    ? STATES.filter((item) => item.toLowerCase().startsWith(value.toLowerCase()))\n    : STATES;\n\n  const {\n    getInputProps,\n    getClearProps,\n    getToggleProps,\n    getListProps,\n    getItemProps,\n    isItemSelected,\n    removeSelect,\n    open,\n    focusIndex,\n    isInputEmpty\n  } = useMultiSelect({\n    // highlight-next-line\n    flipOnSelect: true, // or false\n    items,\n    value,\n    onChange: setValue,\n    selected,\n    onSelectChange: setSelected,\n    // highlight-next-line\n    feature: multiSelectDropdown({\n      // Options: rovingText, closeOnSelect\n      rovingText: true,\n      closeOnSelect: false\n    })\n  });\n\n  return (\n    <div>\n      <button {...getToggleProps()}>{selected.length} selected</button>\n      {open && (\n        <div\n          {...getListProps()}\n          style={{\n            position: 'absolute',\n            color: '#000',\n            background: '#fff',\n            maxWidth: 320\n          }}\n        >\n          <div\n            style={{\n              display: 'flex',\n              flexWrap: 'wrap',\n              border: '2px solid #aaa',\n              gap: 6,\n              padding: 6\n            }}\n          >\n            {selected.map((item) => (\n              <button key={item} onClick={() => removeSelect(item)}>\n                {item}\n              </button>\n            ))}\n            <div>\n              <input placeholder=\"Type...\" {...getInputProps()} />\n              {!isInputEmpty && <button {...getClearProps()}>X</button>}\n            </div>\n          </div>\n\n          <ul\n            style={{\n              listStyle: 'none',\n              overflow: 'auto',\n              maxHeight: 300,\n              margin: 0,\n              padding: 0\n            }}\n          >\n            {items.length ? (\n              items.map((item, index) => (\n                <li\n                  style={{\n                    background: focusIndex === index ? '#ddd' : 'none'\n                  }}\n                  key={item}\n                  {...getItemProps({ item, index })}\n                >\n                  {item}\n                  {isItemSelected(item) && '\u2714\ufe0f'}\n                </li>\n              ))\n            ) : (\n              <li>No options</li>\n            )}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MultiSelectDropdown;\n";var d=t(8785),u=t(3696),p=t(4164),h=t(8421),m=t(3862),g=t(6001),x=t(5883);var f=t(558),v=t(5594),w=t(2677),b=t(4800);const S="multiInputWrap_TWxL";var k=t(7555),j=t(3513);const A=()=>{const[e,n]=(0,u.useState)(!0),[t,a]=(0,u.useState)(!1),[o,l]=(0,u.useState)(!0),[i,r]=(0,u.useState)(),[c,d]=(0,u.useState)(["Alaska","Florida"]),A=i?w.A.filter((e=>e.toLowerCase().startsWith(i.toLowerCase()))):w.A,{getInputProps:y,getClearProps:I,getToggleProps:C,getListProps:N,getItemProps:M,isItemSelected:D,removeSelect:O,open:E,focusIndex:P,isInputEmpty:T}=(0,h.L)({items:A,value:i,onChange:r,selected:c,onSelectChange:d,flipOnSelect:o,feature:(L={rovingText:e,closeOnSelect:t},(0,m.o)((0,x.W)(L),(0,g.I)()))});var L;const W=(0,j.i)(E,A);return(0,s.jsxs)("div",{className:b.A.wrap,children:[(0,s.jsxs)("div",{className:b.A.options,children:[(0,s.jsx)(k.S,{label:"rovingText",checked:e,onChange:n}),(0,s.jsx)(k.S,{label:"closeOnSelect",checked:t,onChange:a}),(0,s.jsx)(k.S,{label:"flipOnSelect",checked:o,onChange:l})]}),(0,s.jsxs)("button",{className:b.A.button,...C(),children:[c.length," selected"]}),E&&(0,s.jsxs)("div",{ref:W,className:(0,p.$)(b.A.multiDropdown,b.A.noScroll),...N(),children:[(0,s.jsxs)("div",{className:S,children:[c.map((e=>(0,s.jsxs)("div",{className:b.A.selectedItem,children:[e,(0,s.jsx)("span",{className:b.A.removeItem,onClick:()=>O(e),children:(0,s.jsx)(f.A,{})})]},e))),(0,s.jsxs)("div",{className:b.A.multiInputWrap,children:[(0,s.jsx)("input",{className:b.A.multiInput,placeholder:"Type...",...y()}),!T&&(0,s.jsx)("button",{className:b.A.clear,...I(),children:(0,s.jsx)(f.A,{})})]})]}),(0,s.jsx)("ul",{className:(0,p.$)(b.A.dropdownList,b.A.scroll),children:A.length?A.map(((e,n)=>{const t=D(e);return(0,s.jsxs)("li",{className:(0,p.$)(b.A.itemCheckable,P===n&&b.A.focused,t&&b.A.checked),...M({item:e,index:n}),children:[e,t&&(0,s.jsx)(v.A,{})]},e)})):(0,s.jsx)("li",{className:b.A.noResult,children:"No options"})})]})]})},y={sidebar_position:5,sidebar_label:"Multi-select Dropdown"},I="Multiple Selection in Dropdown",C={},N=[];function M(e){const n={h1:"h1",header:"header",p:"p",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"multiple-selection-in-dropdown",children:"Multiple Selection in Dropdown"})}),"\n",(0,s.jsx)(A,{}),"\n",(0,s.jsxs)(l.A,{children:[(0,s.jsx)(i.A,{value:"ts",label:"MultiSelectDropdown.tsx",children:(0,s.jsx)(r.A,{language:"tsx",children:c})}),(0,s.jsx)(i.A,{value:"data",label:"data/states.ts",children:(0,s.jsx)(r.A,{language:"ts",children:d.A})}),(0,s.jsx)(i.A,{value:"codesandbox",label:"CodeSandbox",attributes:{link:"https://codesandbox.io/p/sandbox/multiselectdropdown-ppgj8f"},children:(0,s.jsx)(n.p,{children:"CodeSandbox"})})]})]})}function D(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(M,{...e})}):M(e)}},5594:(e,n,t)=>{t.d(n,{A:()=>i});var a,s,o=t(3696);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},l.apply(null,arguments)}const i=e=>{let{title:n,titleId:t,...i}=e;return o.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"icon icon-tabler icons-tabler-outline icon-tabler-check",viewBox:"0 0 24 24","aria-labelledby":t},i),n?o.createElement("title",{id:t},n):null,a||(a=o.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"})),s||(s=o.createElement("path",{d:"m5 12 5 5L20 7"})))}},7555:(e,n,t)=>{t.d(n,{S:()=>v});var a,s,o=t(4164),l=t(3696);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},i.apply(null,arguments)}const r=e=>{let{title:n,titleId:t,...o}=e;return l.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,className:"icon icon-tabler icons-tabler-outline icon-tabler-square",viewBox:"0 0 24 24","aria-labelledby":t},o),n?l.createElement("title",{id:t},n):null,a||(a=l.createElement("path",{stroke:"none",d:"M0 0h24v24H0z"})),s||(s=l.createElement("path",{d:"M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"})))};var c,d;function u(){return u=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},u.apply(null,arguments)}const p=e=>{let{title:n,titleId:t,...a}=e;return l.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",className:"icon icon-tabler icons-tabler-filled icon-tabler-square-check",viewBox:"0 0 24 24","aria-labelledby":t},a),n?l.createElement("title",{id:t},n):null,c||(c=l.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),d||(d=l.createElement("path",{d:"M18.333 2c1.96 0 3.56 1.537 3.662 3.472l.005.195v12.666c0 1.96-1.537 3.56-3.472 3.662l-.195.005H5.667a3.667 3.667 0 0 1-3.662-3.472L2 18.333V5.667c0-1.96 1.537-3.56 3.472-3.662L5.667 2zm-2.626 7.293a1 1 0 0 0-1.414 0L11 12.585l-1.293-1.292-.094-.083a1 1 0 0 0-1.32 1.497l2 2 .094.083a1 1 0 0 0 1.32-.083l4-4 .083-.094a1 1 0 0 0-.083-1.32"})))},h="label_lSHF",m="input_rDJm",g="icon_wu1w",x="checked_X1o2";var f=t(2540);const v=e=>{let{label:n,checked:t,onChange:a}=e;return(0,f.jsxs)("label",{className:(0,o.$)(h,t&&x),children:[(0,f.jsx)("input",{className:m,type:"checkbox",checked:t,onChange:e=>a(e.target.checked)}),t?(0,f.jsx)(p,{className:g}):(0,f.jsx)(r,{className:g}),n]})}},2677:(e,n,t)=>{t.d(n,{A:()=>a});const a=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"]},8785:(e,n,t)=>{t.d(n,{A:()=>a});const a="// https://en.wikipedia.org/wiki/List_of_states_and_territories_of_the_United_States#States\n\nexport default [\n  'Alabama',\n  'Alaska',\n  'Arizona',\n  'Arkansas',\n  'California',\n  'Colorado',\n  'Connecticut',\n  'Delaware',\n  'Florida',\n  'Georgia',\n  'Hawaii',\n  'Idaho',\n  'Illinois',\n  'Indiana',\n  'Iowa',\n  'Kansas',\n  'Kentucky',\n  'Louisiana',\n  'Maine',\n  'Maryland',\n  'Massachusetts',\n  'Michigan',\n  'Minnesota',\n  'Mississippi',\n  'Missouri',\n  'Montana',\n  'Nebraska',\n  'Nevada',\n  'New Hampshire',\n  'New Jersey',\n  'New Mexico',\n  'New York',\n  'North Carolina',\n  'North Dakota',\n  'Ohio',\n  'Oklahoma',\n  'Oregon',\n  'Pennsylvania',\n  'Rhode Island',\n  'South Carolina',\n  'South Dakota',\n  'Tennessee',\n  'Texas',\n  'Utah',\n  'Vermont',\n  'Virginia',\n  'Washington',\n  'West Virginia',\n  'Wisconsin',\n  'Wyoming'\n];\n"},6001:(e,n,t)=>{t.d(n,{I:()=>a});const a=()=>({removeSelect:e})=>({getInputProps:()=>({onKeyDown:n=>!n.target.value&&"Backspace"===n.key&&e?.()})})},5883:(e,n,t)=>{t.d(n,{W:()=>r});var a=t(3862),s=t(5464),o=t(3696),l=t(7990);const i=({closeOnSelect:e=!0,toggleRef:n}={})=>({inputRef:t,open:a,setOpen:s,focusIndex:i,value:r,tmpValue:c})=>{const[d,u]=(0,l.e)(a,s),p=(0,o.useRef)(null),h=n||p,m=c||r||"";(0,o.useEffect)((()=>{a&&t.current?.focus({preventScroll:!0})}),[a,t]);return{toggleRef:h,isInputEmpty:!m,getToggleProps:()=>({type:"button","aria-haspopup":!0,"aria-expanded":a,ref:h,onMouseDown:d,onClick:u,onKeyDown:e=>{const{key:n}=e;"ArrowDown"===n&&(e.preventDefault(),s(!0))}}),getInputProps:()=>({value:m,onKeyDown:n=>{const{key:t}=n;("Escape"===t||e&&i>=0&&"Enter"===t)&&setTimeout((()=>h.current?.focus()),0)}})}},r=e=>(0,a.o)((0,s.d)({...e,select:!0,deselectOnClear:!1}),i(e))},8421:(e,n,t)=>{t.d(n,{L:()=>o});var a=t(4801),s=t(5675);const o=({isEqual:e=a.g4,selected:n,onSelectChange:t,flipOnSelect:o,...l})=>{const i=a=>t?.(n.filter((n=>!e(a,n)))),r=e=>{e?i(e):n.length&&t?.(n.slice(0,n.length-1))},c=t=>n.findIndex((n=>e(t,n)))>=0;return{...(0,s.m)({...l,selected:n,isEqual:e,isItemSelected:c,onSelectChange:e=>{e&&(c(e)?o&&i(e):t?.([...n,e]))},removeSelect:r}),removeSelect:r}}}}]);